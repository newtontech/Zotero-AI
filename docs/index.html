<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zotero AI Newton</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/antd/5.19.7/reset.min.css" integrity="sha512-dUDyEJk3ozcyNdwDm6oFlNmQnL6wSbO8QmNYWW52TkpEVybHClbqgmhTeURR3aWSJdl7KTZRpjX6cQrS2CMLyQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/antd/5.19.7/antd.min.css" integrity="sha512-yP4mFeqrnYoQVL4/K99Nil7KphC9kl3fT9G0/Nh+PskGzOCHvUocVPxXpwG/gyU96L9jXESdp4hF2JA5UzCtaw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    :root {
      --primary: #1677ff;
      --success: #52c41a;
      --bg: #f5f7fb;
      --white: #ffffff;
      --text: #1f2937;
      --muted: #475569;
      --border: #e5e7eb;
      --shadow: 0 18px 48px rgba(0, 39, 102, 0.16);
      --card-radius: 16px;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Inter', 'Segoe UI', sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.7;
    }
    a { color: var(--primary); text-decoration: none; }
    a:hover { color: #0b66d0; }
    header {
      background: var(--white);
      border-bottom: 1px solid var(--border);
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.06);
      position: sticky;
      top: 0;
      z-index: 10;
    }
    .container { max-width: 1180px; margin: 0 auto; padding: 0 20px; }
    .nav {
      padding: 14px 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
    }
    .nav-left { display: flex; align-items: center; gap: 10px; }
    .nav-left img { width: 40px; height: 40px; }
    .nav-brand { font-weight: 700; font-size: 18px; color: var(--text); }
    .lang-switch { display: flex; gap: 8px; align-items: center; }
    .lang-btn {
      padding: 8px 12px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: var(--white);
      cursor: pointer;
      color: var(--muted);
      font-weight: 600;
      transition: all 120ms ease;
      box-shadow: 0 6px 18px rgba(0,0,0,0.05);
    }
    .lang-btn.active { color: var(--primary); border-color: var(--primary); background: rgba(22,119,255,0.08); }
    .hero {
      padding: 32px 0 44px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 30px;
      align-items: center;
    }
    .headline { font-size: clamp(32px, 5vw, 50px); margin: 10px 0; line-height: 1.1; }
    .lead { color: var(--muted); font-size: 18px; margin: 12px 0 20px; }
    .badges { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 10px; }
    .badge { padding: 8px 12px; border-radius: 999px; background: rgba(22,119,255,0.08); color: var(--primary); border: 1px solid rgba(22,119,255,0.15); font-weight: 600; }
    .actions { display: flex; gap: 10px; flex-wrap: wrap; }
    .btn {
      padding: 12px 18px;
      border-radius: 12px;
      border: 1px solid transparent;
      font-weight: 700;
      cursor: pointer;
      transition: all 120ms ease;
      box-shadow: var(--shadow);
      background: linear-gradient(135deg, #4096ff, #1677ff);
      color: #fff;
    }
    .btn.secondary { background: var(--white); color: var(--text); border: 1px solid var(--border); box-shadow: none; }
    .btn:hover { transform: translateY(-2px); }
    .hero-card {
      background: var(--white);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 18px;
      box-shadow: var(--shadow);
      text-align: center;
    }
    .hero-card img { width: 220px; display: block; margin: 0 auto; }
    main { max-width: 1180px; margin: 0 auto; padding: 30px 20px 90px; }
    .section { margin-top: 50px; }
    .section h2 { font-size: 26px; margin-bottom: 10px; }
    .section p.section-lead { color: var(--muted); max-width: 820px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 16px; }
    .card {
      background: var(--white);
      border: 1px solid var(--border);
      border-radius: var(--card-radius);
      padding: 16px 16px 18px;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }
    .card h3 { margin: 0 0 10px; font-size: 18px; }
    .card p { margin: 0; color: var(--muted); }
    .tagline { color: var(--muted); margin: 6px 0 14px; }
    ul, ol { color: var(--muted); padding-left: 20px; }
    .pill-row { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; }
    .pill { background: rgba(22,119,255,0.08); border: 1px solid rgba(22,119,255,0.15); color: var(--primary); padding: 6px 10px; border-radius: 10px; font-weight: 600; }
    .two-col { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 18px; }
    .highlight { background: linear-gradient(135deg, rgba(22,119,255,0.08), rgba(82,196,26,0.08)); border: 1px solid var(--border); border-radius: 18px; padding: 18px; box-shadow: var(--shadow); }
    footer { text-align: center; color: var(--muted); padding: 40px 0 60px; }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="nav">
        <div class="nav-left">
          <img src="./newton-n-star.svg" alt="Logo" />
          <span class="nav-brand">Zotero AI Newton</span>
        </div>
        <div class="lang-switch">
          <button class="lang-btn" data-lang="en">English</button>
          <button class="lang-btn" data-lang="zh">简体中文</button>
        </div>
      </div>
      <div class="hero">
        <div>
          <div class="badges">
            <span class="badge" data-i18n="badge1">Zotero 7 Add-on</span>
            <span class="badge" data-i18n="badge2">Local-first AI Workspace</span>
            <span class="badge" data-i18n="badge3">OpenAI · DeepSeek · Custom</span>
          </div>
          <h1 class="headline" data-i18n="headline">Chat with your library, like magic.</h1>
          <p class="lead" data-i18n="lead">AI co-pilot for Zotero: grounded chats on items, PDFs, or whole collections with zero data leaks.</p>
          <div class="actions">
            <a class="btn" href="https://raw.githubusercontent.com/newtontech/Zotero-AI-Newton/main/release/zotero-ai-newton-0.0.1-beta.xpi" data-i18n="ctaDownload">Download Beta XPI</a>
            <a class="btn secondary" href="https://github.com/newtontech/Zotero-AI-Newton" data-i18n="ctaGithub">View on GitHub</a>
            <a class="btn secondary" href="https://newtontech.github.io/Zotero-AI-Newton-website" data-i18n="ctaPromo">Promo Site</a>
          </div>
        </div>
        <div class="hero-card">
          <img src="./newton-n-star.svg" alt="Zotero AI Newton logo" />
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="section">
      <h2 data-i18n="whyTitle">Why Newton stands out</h2>
      <p class="section-lead" data-i18n="whyLead">Built for researchers and teams who need instant, trustworthy answers from the sources that matter.</p>
      <div class="grid" id="feature-grid"></div>
    </section>

    <section class="section two-col">
      <div class="highlight">
        <h2 data-i18n="installTitle">Install in minutes</h2>
        <p class="tagline" data-i18n="installTag">Zero friction. Works with Zotero 7.</p>
        <ol id="install-list"></ol>
        <div class="pill-row" id="channels"></div>
      </div>
      <div class="card">
        <h3 data-i18n="getStartedTitle">Get started fast</h3>
        <ul id="get-started"></ul>
        <h3 style="margin-top:16px;" data-i18n="configureTitle">Configure</h3>
        <ul id="configure"></ul>
      </div>
    </section>

    <section class="section">
      <h2 data-i18n="devTitle">For builders</h2>
      <p class="section-lead" data-i18n="devLead">Hot reload, lint gates, reproducible builds. Ship extensions confidently.</p>
      <div class="grid" id="dev-cards"></div>
    </section>

    <section class="section">
      <h2 data-i18n="storiesTitle">Use cases we love</h2>
      <div class="grid" id="stories"></div>
    </section>

    <section class="section">
      <h2 data-i18n="faqTitle">FAQ</h2>
      <div class="grid" id="faq"></div>
    </section>
  </main>

  <footer>
    <div data-i18n="footer">Made for researchers worldwide • Zotero AI Newton</div>
  </footer>

  <script>
    const copy = {
      en: {
        badge1: 'Zotero 7 Add-on',
        badge2: 'Local-first AI Workspace',
        badge3: 'OpenAI · DeepSeek · Custom',
        headline: 'Chat with your library, like magic.',
        lead: 'AI co-pilot for Zotero: grounded chats on items, PDFs, or whole collections with zero data leaks.',
        ctaDownload: 'Download Beta XPI',
        ctaGithub: 'View on GitHub',
        ctaPromo: 'Promo Site',
        whyTitle: 'Why Newton stands out',
        whyLead: 'Built for researchers and teams who need instant, trustworthy answers from the sources that matter.',
        installTitle: 'Install in minutes',
        installTag: 'Zero friction. Works with Zotero 7.',
        install: [
          'Download the XPI (beta): release/zotero-ai-newton-0.0.1-beta.xpi.',
          'Zotero → Tools → Add-ons → Install Add-on From File.',
          'Auto-updates follow release/update-beta.json.',
        ],
        channels: ['OpenAI', 'DeepSeek', 'Custom Endpoint', 'Local-first'],
        getStartedTitle: 'Get started fast',
        getStarted: [
          'Select an item or collection → open AI Workspace to preview context.',
          'Open the sidebar or right-click menu → start chatting instantly.',
          'Refresh context after switching selections for fresh grounding.',
        ],
        configureTitle: 'Configure',
        configure: [
          'Edit → Preferences → Zotero AI Newton.',
          'Enter API key + model (OpenAI, DeepSeek, or custom).',
          'Choose scope: Auto / Item / Collection.',
          'Pick tone: concise, detailed, or creative.',
          'All settings stay local; zero telemetry.',
        ],
        devTitle: 'For builders',
        devLead: 'Hot reload, lint gates, reproducible builds. Ship extensions confidently.',
        devCards: [
          { title: 'Dev commands', body: '`npm run start` (hot reload), `npm run lint:check`, `NO_UPDATE_NOTIFIER=1 npm run build`.' },
          { title: 'Source build', body: 'Clone → npm install → npm run build. Outputs to .scaffold/build, copies XPI to release/.' },
          { title: 'Brand assets', body: 'Unified icons in addon/content/icons, including the N+star hero mark.' },
        ],
        storiesTitle: 'Use cases we love',
        stories: [
          { title: 'Lightning literature review', body: 'Summarize 10 PDFs in a folder, ask follow-ups, and extract key claims with citations.' },
          { title: 'Focused Q&A', body: 'Chat on a single item plus its attached PDF to keep answers laser-precise.' },
          { title: 'Team onboarding', body: 'Share a curated collection; new teammates query it like a living handbook.' },
          { title: 'Method spot-check', body: 'Verify experiment steps against multiple papers before running a study.' },
        ],
        faqTitle: 'FAQ',
        faq: [
          { q: 'Where does data live?', a: 'Everything stays inside Zotero. No telemetry or external storage.' },
          { q: 'Which models are supported?', a: 'OpenAI, DeepSeek, or any custom endpoint you configure in preferences.' },
          { q: 'How do updates ship?', a: 'Beta channel via release/update-beta.json; rebuild anytime with NO_UPDATE_NOTIFIER=1 npm run build.' },
        ],
        footer: 'Made for researchers worldwide • Zotero AI Newton',
      },
      zh: {
        badge1: 'Zotero 7 插件',
        badge2: '本地优先 AI 工作区',
        badge3: 'OpenAI · DeepSeek · 自定义',
        headline: '和文献聊天，就像开挂。',
        lead: 'Zotero 专属 AI 副驾：对条目、PDF、整文件夹多轮对话，数据只在本地。',
        ctaDownload: '下载 Beta XPI',
        ctaGithub: '查看 GitHub',
        ctaPromo: '宣传站',
        whyTitle: 'Newton 为什么好用',
        whyLead: '为研究者和团队打造，随时得到可信、可追溯的回答。',
        installTitle: '3 分钟安装',
        installTag: '零门槛，兼容 Zotero 7。',
        install: [
          '下载 XPI（Beta）：release/zotero-ai-newton-0.0.1-beta.xpi。',
          'Zotero → 工具 → 附加组件 → 从文件安装附加组件…',
          '自动更新：release/update-beta.json。',
        ],
        channels: ['OpenAI', 'DeepSeek', '自定义接口', '本地优先'],
        getStartedTitle: '马上开用',
        getStarted: [
          '选中条目或文件夹 → 打开 AI 工作区预览上下文。',
          '侧边栏或右键菜单 → 直接开聊。',
          '切换选区后刷新上下文，保持回答贴合。',
        ],
        configureTitle: '配置',
        configure: [
          '编辑 → 首选项 → Zotero AI Newton。',
          '填入 API Key + 模型（OpenAI / DeepSeek / 自定义）。',
          '选择范围：自动 / 条目 / 文件夹。',
          '选择语气：精炼 / 详细 / 创意。',
          '所有设置仅存本地，零遥测。',
        ],
        devTitle: '开发者模式',
        devLead: '热重载、静态检查、可重复构建，放心发版本。',
        devCards: [
          { title: '命令速查', body: '`npm run start`（热重载）、`npm run lint:check`、`NO_UPDATE_NOTIFIER=1 npm run build`。' },
          { title: '源码构建', body: 'Clone → npm install → npm run build。产物在 .scaffold/build，XPI 会复制到 release/。' },
          { title: '品牌素材', body: '统一图标位于 addon/content/icons，包含 N+星标志。' },
        ],
        storiesTitle: '灵感用法',
        stories: [
          { title: '闪电综述', body: '汇总文件夹内多篇 PDF，追问、抽取关键结论和引用。' },
          { title: '精准问答', body: '针对单条目+PDF 深挖细节，回答更聚焦。' },
          { title: '团队上手', body: '共享精选集合作为“活文档”，新人可直接对话。' },
          { title: '方法校验', body: '实验前比对多篇论文的步骤，减少踩坑。' },
        ],
        faqTitle: '常见问题',
        faq: [
          { q: '数据存哪？', a: '全部留在 Zotero，本地优先，零遥测。' },
          { q: '支持哪些模型？', a: 'OpenAI、DeepSeek，或你在首选项填写的自定义接口。' },
          { q: '如何更新？', a: 'Beta 渠道通过 release/update-beta.json；需时可用 NO_UPDATE_NOTIFIER=1 npm run build 重建。' },
        ],
        footer: '为全球研究者而生 • Zotero AI Newton',
      },
    };

    const features = [
      { key: 'workspace', en: { title: 'AI Knowledge Workspace', body: 'Multi-turn chats stay in sync with Zotero selection.' }, zh: { title: 'AI 知识工作区', body: '多轮对话随选区联动，回答有根有据。' } },
      { key: 'pdf', en: { title: 'PDF Superpowers', body: 'Summaries & Q&A auto-reference attached PDFs.' }, zh: { title: 'PDF 神助攻', body: '总结/问答自动引用已关联的 PDF。' } },
      { key: 'collection', en: { title: 'Collection Intelligence', body: 'Reason across folders before LLM calls.' }, zh: { title: '集合级推理', body: '先聚合文件夹内容，再调用 LLM。' } },
      { key: 'model', en: { title: 'Model Agnostic', body: 'OpenAI, DeepSeek, or your custom endpoint.' }, zh: { title: '模型自由', body: 'OpenAI / DeepSeek / 自定义接口随心选。' } },
      { key: 'tone', en: { title: 'Tone Mastery', body: 'Concise, detailed, or creative at a click.' }, zh: { title: '语气切换', body: '精炼 / 详细 / 创意，一键切换。' } },
      { key: 'privacy', en: { title: 'Privacy First', body: 'Local-only data, zero telemetry.' }, zh: { title: '隐私优先', body: '数据仅留本地，无遥测。' } },
    ];

    function renderList(targetId, items) {
      const el = document.getElementById(targetId);
      el.innerHTML = '';
      items.forEach(text => {
        const li = document.createElement('li');
        li.innerHTML = text;
        el.appendChild(li);
      });
    }

    function renderCards(targetId, data, lang) {
      const el = document.getElementById(targetId);
      el.innerHTML = '';
      data.forEach(item => {
        const card = document.createElement('div');
        card.className = 'card';
        const h3 = document.createElement('h3');
        h3.textContent = item.title;
        const p = document.createElement('p');
        p.innerHTML = item.body;
        card.appendChild(h3);
        card.appendChild(p);
        el.appendChild(card);
      });
    }

    function renderFeatures(lang) {
      const el = document.getElementById('feature-grid');
      el.innerHTML = '';
      features.forEach(f => {
        const card = document.createElement('div');
        card.className = 'card';
        const h3 = document.createElement('h3');
        h3.textContent = f[lang].title;
        const p = document.createElement('p');
        p.textContent = f[lang].body;
        card.appendChild(h3);
        card.appendChild(p);
        el.appendChild(card);
      });
    }

    function renderPills(items) {
      const row = document.getElementById('channels');
      row.innerHTML = '';
      items.forEach(text => {
        const span = document.createElement('span');
        span.className = 'pill';
        span.textContent = text;
        row.appendChild(span);
      });
    }

    function renderStories(lang) {
      renderCards('stories', copy[lang].stories, lang);
    }

    function renderFaq(lang) {
      const faqEl = document.getElementById('faq');
      faqEl.innerHTML = '';
      copy[lang].faq.forEach(item => {
        const card = document.createElement('div');
        card.className = 'card';
        const h3 = document.createElement('h3');
        h3.textContent = item.q;
        const p = document.createElement('p');
        p.textContent = item.a;
        card.appendChild(h3);
        card.appendChild(p);
        faqEl.appendChild(card);
      });
    }

    function setLang(lang) {
      document.documentElement.lang = lang === 'zh' ? 'zh-CN' : 'en';
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (copy[lang][key]) {
          el.textContent = copy[lang][key];
        }
      });
      renderFeatures(lang);
      renderList('install-list', copy[lang].install);
      renderPills(copy[lang].channels);
      renderList('get-started', copy[lang].getStarted);
      renderList('configure', copy[lang].configure);
      renderCards('dev-cards', copy[lang].devCards, lang);
      renderStories(lang);
      renderFaq(lang);
      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
      });
    }

    document.querySelectorAll('.lang-btn').forEach(btn => {
      btn.addEventListener('click', () => setLang(btn.dataset.lang));
    });

    setLang('en');
  </script>
</body>
</html>
